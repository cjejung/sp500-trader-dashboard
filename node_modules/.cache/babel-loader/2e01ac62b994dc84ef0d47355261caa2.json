{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _sortableTableHeader = require('./sortable-table-header');\n\nvar _sortableTableHeader2 = _interopRequireDefault(_sortableTableHeader);\n\nvar _sortableTableBody = require('./sortable-table-body');\n\nvar _sortableTableBody2 = _interopRequireDefault(_sortableTableBody);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar SortableTable = function (_Component) {\n  _inherits(SortableTable, _Component);\n\n  function SortableTable(props) {\n    _classCallCheck(this, SortableTable);\n\n    var _this = _possibleConstructorReturn(this, (SortableTable.__proto__ || Object.getPrototypeOf(SortableTable)).call(this, props));\n\n    _this.state = {\n      sortings: _this.getDefaultSortings(props)\n    };\n    return _this;\n  }\n\n  _createClass(SortableTable, [{\n    key: 'getDefaultSortings',\n    value: function getDefaultSortings(props) {\n      return props.columns.map(function (column) {\n        var sorting = \"both\";\n\n        if (column.defaultSorting) {\n          var defaultSorting = column.defaultSorting.toLowerCase();\n\n          if (defaultSorting == \"desc\") {\n            sorting = \"desc\";\n          } else if (defaultSorting == \"asc\") {\n            sorting = \"asc\";\n          }\n        }\n\n        return sorting;\n      });\n    }\n  }, {\n    key: 'sortData',\n    value: function sortData(data, sortings) {\n      var sortedData = this.props.data;\n\n      for (var i in sortings) {\n        var sorting = sortings[i];\n        var column = this.props.columns[i];\n        var key = this.props.columns[i].key;\n\n        switch (sorting) {\n          case \"desc\":\n            if (column.descSortFunction && typeof column.descSortFunction == \"function\") {\n              sortedData = column.descSortFunction(sortedData, key);\n            } else {\n              sortedData = this.descSortData(sortedData, key);\n            }\n\n            break;\n\n          case \"asc\":\n            if (column.ascSortFunction && typeof column.ascSortFunction == \"function\") {\n              sortedData = column.ascSortFunction(sortedData, key);\n            } else {\n              sortedData = this.ascSortData(sortedData, key);\n            }\n\n            break;\n        }\n      }\n\n      return sortedData;\n    }\n  }, {\n    key: 'ascSortData',\n    value: function ascSortData(data, key) {\n      var _this2 = this;\n\n      return this.sortDataByKey(data, key, function (a, b) {\n        if (_this2.parseFloatable(a) && _this2.parseFloatable(b)) {\n          a = _this2.parseIfFloat(a);\n          b = _this2.parseIfFloat(b);\n        }\n\n        if (a >= b) {\n          return 1;\n        } else if (a < b) {\n          return -1;\n        }\n      }.bind(this));\n    }\n  }, {\n    key: 'descSortData',\n    value: function descSortData(data, key) {\n      var _this3 = this;\n\n      return this.sortDataByKey(data, key, function (a, b) {\n        if (_this3.parseFloatable(a) && _this3.parseFloatable(b)) {\n          a = _this3.parseIfFloat(a);\n          b = _this3.parseIfFloat(b);\n        }\n\n        if (a <= b) {\n          return 1;\n        } else if (a > b) {\n          return -1;\n        }\n      }.bind(this));\n    }\n  }, {\n    key: 'parseFloatable',\n    value: function parseFloatable(value) {\n      return typeof value === \"string\" && (/^\\d+$/.test(value) || /^\\d+$/.test(value.replace(/[,.%$]/g, \"\"))) ? true : false;\n    }\n  }, {\n    key: 'parseIfFloat',\n    value: function parseIfFloat(value) {\n      return parseFloat(value.replace(/,/g, \"\"));\n    }\n  }, {\n    key: 'sortDataByKey',\n    value: function sortDataByKey(data, key, fn) {\n      var clone = Array.apply(null, data);\n      return clone.sort(function (a, b) {\n        return fn(a[key], b[key]);\n      });\n    }\n  }, {\n    key: 'onStateChange',\n    value: function onStateChange(index) {\n      var _this4 = this;\n\n      var sortings = this.state.sortings.map(function (sorting, i) {\n        if (i == index) sorting = _this4.nextSortingState(sorting);\n        return sorting;\n      }.bind(this));\n      this.setState({\n        sortings: sortings\n      });\n    }\n  }, {\n    key: 'nextSortingState',\n    value: function nextSortingState(state) {\n      var next = void 0;\n\n      switch (state) {\n        case \"both\":\n          next = \"desc\";\n          break;\n\n        case \"desc\":\n          next = \"asc\";\n          break;\n\n        case \"asc\":\n          next = \"both\";\n          break;\n      }\n\n      return next;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var sortedData = this.sortData(this.props.data, this.state.sortings);\n      return React.createElement('table', {\n        className: 'table',\n        style: this.props.style\n      }, React.createElement(_sortableTableHeader2.default, {\n        columns: this.props.columns,\n        sortings: this.state.sortings,\n        onStateChange: this.onStateChange.bind(this),\n        iconStyle: this.props.iconStyle,\n        iconDesc: this.props.iconDesc,\n        iconAsc: this.props.iconAsc,\n        iconBoth: this.props.iconBoth\n      }), React.createElement(_sortableTableBody2.default, {\n        columns: this.props.columns,\n        data: sortedData,\n        sortings: this.state.sortings\n      }));\n    }\n  }]);\n\n  return SortableTable;\n}(_react.Component);\n\nSortableTable.propTypes = {\n  data: _react.PropTypes.array.isRequired,\n  columns: _react.PropTypes.array.isRequired,\n  style: _react.PropTypes.object,\n  iconStyle: _react.PropTypes.object,\n  iconDesc: _react.PropTypes.node,\n  iconAsc: _react.PropTypes.node,\n  iconBoth: _react.PropTypes.node\n};\nexports.default = SortableTable;","map":{"version":3,"sources":["/home/lu/sp500-trader-dashboard/node_modules/react-sortable-table/js/sortable-table.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_sortableTableHeader","_sortableTableHeader2","_interopRequireDefault","_sortableTableBody","_sortableTableBody2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","SortableTable","_Component","_this","getPrototypeOf","state","sortings","getDefaultSortings","columns","map","column","sorting","defaultSorting","toLowerCase","sortData","data","sortedData","descSortFunction","descSortData","ascSortFunction","ascSortData","_this2","sortDataByKey","a","b","parseFloatable","parseIfFloat","bind","_this3","test","replace","parseFloat","fn","clone","Array","apply","sort","onStateChange","index","_this4","nextSortingState","setState","next","render","React","createElement","className","style","iconStyle","iconDesc","iconAsc","iconBoth","Component","propTypes","PropTypes","array","isRequired","object","node"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _sortableTableHeader = require('./sortable-table-header');\n\nvar _sortableTableHeader2 = _interopRequireDefault(_sortableTableHeader);\n\nvar _sortableTableBody = require('./sortable-table-body');\n\nvar _sortableTableBody2 = _interopRequireDefault(_sortableTableBody);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SortableTable = function (_Component) {\n  _inherits(SortableTable, _Component);\n\n  function SortableTable(props) {\n    _classCallCheck(this, SortableTable);\n\n    var _this = _possibleConstructorReturn(this, (SortableTable.__proto__ || Object.getPrototypeOf(SortableTable)).call(this, props));\n\n    _this.state = {\n      sortings: _this.getDefaultSortings(props)\n    };\n    return _this;\n  }\n\n  _createClass(SortableTable, [{\n    key: 'getDefaultSortings',\n    value: function getDefaultSortings(props) {\n      return props.columns.map(function (column) {\n        var sorting = \"both\";\n        if (column.defaultSorting) {\n          var defaultSorting = column.defaultSorting.toLowerCase();\n\n          if (defaultSorting == \"desc\") {\n            sorting = \"desc\";\n          } else if (defaultSorting == \"asc\") {\n            sorting = \"asc\";\n          }\n        }\n        return sorting;\n      });\n    }\n  }, {\n    key: 'sortData',\n    value: function sortData(data, sortings) {\n      var sortedData = this.props.data;\n      for (var i in sortings) {\n        var sorting = sortings[i];\n        var column = this.props.columns[i];\n        var key = this.props.columns[i].key;\n        switch (sorting) {\n          case \"desc\":\n            if (column.descSortFunction && typeof column.descSortFunction == \"function\") {\n              sortedData = column.descSortFunction(sortedData, key);\n            } else {\n              sortedData = this.descSortData(sortedData, key);\n            }\n            break;\n          case \"asc\":\n            if (column.ascSortFunction && typeof column.ascSortFunction == \"function\") {\n              sortedData = column.ascSortFunction(sortedData, key);\n            } else {\n              sortedData = this.ascSortData(sortedData, key);\n            }\n            break;\n        }\n      }\n      return sortedData;\n    }\n  }, {\n    key: 'ascSortData',\n    value: function ascSortData(data, key) {\n      var _this2 = this;\n\n      return this.sortDataByKey(data, key, function (a, b) {\n        if (_this2.parseFloatable(a) && _this2.parseFloatable(b)) {\n          a = _this2.parseIfFloat(a);\n          b = _this2.parseIfFloat(b);\n        }\n        if (a >= b) {\n          return 1;\n        } else if (a < b) {\n          return -1;\n        }\n      }.bind(this));\n    }\n  }, {\n    key: 'descSortData',\n    value: function descSortData(data, key) {\n      var _this3 = this;\n\n      return this.sortDataByKey(data, key, function (a, b) {\n        if (_this3.parseFloatable(a) && _this3.parseFloatable(b)) {\n          a = _this3.parseIfFloat(a);\n          b = _this3.parseIfFloat(b);\n        }\n        if (a <= b) {\n          return 1;\n        } else if (a > b) {\n          return -1;\n        }\n      }.bind(this));\n    }\n  }, {\n    key: 'parseFloatable',\n    value: function parseFloatable(value) {\n      return typeof value === \"string\" && (/^\\d+$/.test(value) || /^\\d+$/.test(value.replace(/[,.%$]/g, \"\"))) ? true : false;\n    }\n  }, {\n    key: 'parseIfFloat',\n    value: function parseIfFloat(value) {\n      return parseFloat(value.replace(/,/g, \"\"));\n    }\n  }, {\n    key: 'sortDataByKey',\n    value: function sortDataByKey(data, key, fn) {\n      var clone = Array.apply(null, data);\n\n      return clone.sort(function (a, b) {\n        return fn(a[key], b[key]);\n      });\n    }\n  }, {\n    key: 'onStateChange',\n    value: function onStateChange(index) {\n      var _this4 = this;\n\n      var sortings = this.state.sortings.map(function (sorting, i) {\n        if (i == index) sorting = _this4.nextSortingState(sorting);\n\n        return sorting;\n      }.bind(this));\n\n      this.setState({\n        sortings: sortings\n      });\n    }\n  }, {\n    key: 'nextSortingState',\n    value: function nextSortingState(state) {\n      var next = void 0;\n      switch (state) {\n        case \"both\":\n          next = \"desc\";\n          break;\n        case \"desc\":\n          next = \"asc\";\n          break;\n        case \"asc\":\n          next = \"both\";\n          break;\n      }\n      return next;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var sortedData = this.sortData(this.props.data, this.state.sortings);\n\n      return React.createElement(\n        'table',\n        {\n          className: 'table',\n          style: this.props.style },\n        React.createElement(_sortableTableHeader2.default, {\n          columns: this.props.columns,\n          sortings: this.state.sortings,\n          onStateChange: this.onStateChange.bind(this),\n          iconStyle: this.props.iconStyle,\n          iconDesc: this.props.iconDesc,\n          iconAsc: this.props.iconAsc,\n          iconBoth: this.props.iconBoth }),\n        React.createElement(_sortableTableBody2.default, {\n          columns: this.props.columns,\n          data: sortedData,\n          sortings: this.state.sortings })\n      );\n    }\n  }]);\n\n  return SortableTable;\n}(_react.Component);\n\nSortableTable.propTypes = {\n  data: _react.PropTypes.array.isRequired,\n  columns: _react.PropTypes.array.isRequired,\n  style: _react.PropTypes.object,\n  iconStyle: _react.PropTypes.object,\n  iconDesc: _react.PropTypes.node,\n  iconAsc: _react.PropTypes.node,\n  iconBoth: _react.PropTypes.node\n};\nexports.default = SortableTable;"]},"metadata":{},"sourceType":"script"}